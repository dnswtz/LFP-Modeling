# LFP-Modeling
A tool for the calculation of artificial ECoG data based on two horizontally connected neuronal populations of excitatory and inhibitory neurons. The neurons within each areal are connected based on a gaussian distance profile. 

##### Requirements

	1. Python 2.x or 3.x available at https://www.python.org/
	2. NEST (PyNEST) available at http://www.nest-simulator.org/download/
	3. Numpy (installed by default)
	4. Matplotlib.pyplot (installed by default)
	5. h5py (installed by default)

##### Files
This repository currently consists of four Python files categorized by functionality:

	1. main.py
	2. variablesECoG.py
	3. truConnect.py
	4. lfpcalc.py

Call `python main.py` to simulate the spiking activity of a microscopic neuronal network with its default parameters, which may be customized at will from variablesECoG.truConnect defines the connectivity parameters (adjacency parameters) for this model. lfpcalc will calculate the local field potential of the simulated network.

Runnign this script creates a total of five ( in general, however for large numbers of neurons more may be generated by NEST / 4 or more if targets have already been created in a seperate file and `stored_targets=True` in variablesECoG.py ) files.

	1. currents.hdf5
	2. ecog_potential.hdf5
	3. Excitatory*.gdf
	4. Inhibitory*.gdf
	5. stored_targets.csv

Data from the hdf5 files can be accessed by using h5py in Python. ['currents'] in currents.hdf5 contains information about the total synaptic current in every neuron. ['potential_at_ecog%d'] in ecog_potential.hdf5 in which %d is an integer between 0 (inclusive) and 64 (not inclusive) describing the potential at each simulated electrode. Excitatory*/Inhibitory*.gdf contains information about the spike times of each excitatory/inhibitory neuron. stored_targets.csv stores the postsynaptic neuron ID of each neuron (corresponding to the line number).

##### References
The neural population is created based on the work done in

>Marc-Oliver Gewaltig and Markus Diesmann (2007)
>NEST (NEural Simulation Tool)
>Scholarpedia
>see http://www.scholarpedia.org/article/NEST_(NEural_Simulation_Tool) for reference
	
and the corresponding pythonic interface created by 

>Eppler, Jochen M and Helias, Moritz and Muller, Eilif and Diesmann, Markus and Gewaltig, Marc-Oliver (2009)
>NyNEST: a convenient interface to the NEST simulator
>Frontiers in Neuroinformatics	
>available at http://doi.org/10.3389/neuro.11.012.2008

The local field potential of said simulated neuronal population is modeled similarly to the work done in

>LindÃ©n Henrik, Hagen Espen, Leski Szymon, Norheim Eivind, Pettersen Klas, Einevoll Gaute (2014)
>LFPy: a tool for biophysical simulation of extracellular potentials generated by detailed model neurons
>Frontiers in Neuroinformatics
>available at http://doi.org/10.3389/fninf.2013.00041

